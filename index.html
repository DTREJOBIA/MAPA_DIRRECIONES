<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Medidor de desafíos diarios</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #4b2e00;
      padding: 20px;
      color: #fff;
    }
    .container {
      max-width: 600px;
      margin: auto;
      background: #d7b899;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.5);
      color: #3e2723;
    }
    h1 {
      text-align: center;
      color: #5d4037;
    }
    .mensaje {
      text-align: center;
      font-size: 20px;
      margin-top: 20px;
      font-weight: bold;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background-color: #f3e5d5;
      color: #3e2723;
      font-weight: bold;
    }
    th, td {
      padding: 10px;
      text-align: center;
      border: 1px solid #a1887f;
    }
    th {
      background-color: #6d4c41;
      color: white;
    }
    tfoot td {
      font-weight: bold;
      background-color: #6d4c41;
      color: white;
    }
    input[type="number"] {
      width: 80px;
      padding: 5px;
      text-align: center;
      border: 1px solid #a1887f;
      border-radius: 4px;
    }
    .ruta-input {
      display: flex;
      justify-content: center;
      margin-bottom: 15px;
      gap: 10px;
      align-items: center;
    }
    .ruta-input label {
      font-weight: bold;
      color: #3e2723;
      font-size: 16px;
    }
    .ruta-input input[type="text"] {
      padding: 6px 10px;
      border: 1px solid #a1887f;
      border-radius: 4px;
      width: 120px;
      font-weight: bold;
      text-align: center;
    }
    .ruta-input button {
      padding: 6px 15px;
      background-color: #5d4037;
      border: none;
      border-radius: 4px;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    .ruta-input button:hover {
      background-color: #4e342e;
    }
    #confirmacion-ruta {
      text-align: center;
      margin-top: 10px;
      font-weight: bold;
      color: #3e2723;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Medidor de desafíos diarios</h1>

    <div class="ruta-input">
      <label for="numero-ruta">Número de Ruta:</label>
      <input type="text" id="numero-ruta" placeholder="Ingrese número" />
      <button onclick="confirmarRuta()">Enviar</button>
    </div>
    <div id="confirmacion-ruta"></div>

    <table>
      <thead>
        <tr>
          <th>Producto</th>
          <th>Necesidad Diaria</th>
          <th>Real Diario</th>
          <th>% Alcance</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Desafío diario café</td>
          <td><input type="number" id="nec-cafe" value="120" oninput="calcularPorcentajes()"></td>
          <td><input type="number" id="real-cafe" value="110" oninput="calcularPorcentajes()"></td>
          <td id="pct-cafe">0%</td>
        </tr>
        <tr>
          <td>Desafío diario representadas</td>
          <td><input type="number" id="nec-representadas" value="80" oninput="calcularPorcentajes()"></td>
          <td><input type="number" id="real-representadas" value="70" oninput="calcularPorcentajes()"></td>
          <td id="pct-representadas">0%</td>
        </tr>
        <tr>
          <td>Desafío coberturas Venus</td>
          <td><input type="number" id="nec-venus" value="50" oninput="calcularPorcentajes()"></td>
          <td><input type="number" id="real-venus" value="45" oninput="calcularPorcentajes()"></td>
          <td id="pct-venus">0%</td>
        </tr>
        <tr>
          <td>Desafío coberturas Best</td>
          <td><input type="number" id="nec-best" value="40" oninput="calcularPorcentajes()"></td>
          <td><input type="number" id="real-best" value="38" oninput="calcularPorcentajes()"></td>
          <td id="pct-best">0%</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="3">Alcance de Coberturas (Venus + Best)</td>
          <td id="alcance-coberturas">0%</td>
        </tr>
        <tr>
          <td colspan="3">Ventas Totales (Café + Representadas)</td>
          <td id="ventas-totales">0%</td>
        </tr>
      </tfoot>
    </table>

    <div class="mensaje" id="mensaje-global"></div>
  </div>

  <script>
    function calcularPorcentajes() {
      const necCafe = parseFloat(document.getElementById('nec-cafe').value) || 0;
      const realCafe = parseFloat(document.getElementById('real-cafe').value) || 0;
      const necRepresentadas = parseFloat(document.getElementById('nec-representadas').value) || 0;
      const realRepresentadas = parseFloat(document.getElementById('real-representadas').value) || 0;
      const necVenus = parseFloat(document.getElementById('nec-venus').value) || 0;
      const realVenus = parseFloat(document.getElementById('real-venus').value) || 0;
      const necBest = parseFloat(document.getElementById('nec-best').value) || 0;
      const realBest = parseFloat(document.getElementById('real-best').value) || 0;

      const pctCafe = necCafe > 0 ? (realCafe / necCafe) * 100 : 0;
      const pctRepresentadas = necRepresentadas > 0 ? (realRepresentadas / necRepresentadas) * 100 : 0;
      const pctVenus = necVenus > 0 ? (realVenus / necVenus) * 100 : 0;
      const pctBest = necBest > 0 ? (realBest / necBest) * 100 : 0;

      document.getElementById('pct-cafe').textContent = pctCafe.toFixed(2) + '%';
      document.getElementById('pct-representadas').textContent = pctRepresentadas.toFixed(2) + '%';
      document.getElementById('pct-venus').textContent = pctVenus.toFixed(2) + '%';
      document.getElementById('pct-best').textContent = pctBest.toFixed(2) + '%';

      const alcanceCoberturas = (pctVenus + pctBest) / 2;
      const ventasTotales = (pctCafe + pctRepresentadas) / 2;

      document.getElementById('alcance-coberturas').textContent = alcanceCoberturas.toFixed(2) + '%';
      document.getElementById('ventas-totales').textContent = ventasTotales.toFixed(2) + '%';

      const promedioGeneral = (alcanceCoberturas + ventasTotales) / 2;

      const mensajeGlobal = document.getElementById('mensaje-global');
      if (promedioGeneral > 85) {
        mensajeGlobal.textContent = "¡Excelente! Estás superando el 85% de tu meta diaria.";
        mensajeGlobal.style.color = "#4caf50";
      } else {
        mensajeGlobal.textContent = "";
      }
    }

    function confirmarRuta() {
      const valor = document.getElementById('numero-ruta').value.trim();
      const mensaje = document.getElementById('confirmacion-ruta');
      if (valor === '') {
        mensaje.textContent = 'Por favor, ingresa un número de ruta válido.';
        mensaje.style.color = '#b71c1c';
      } else {
        mensaje.textContent = `Número de ruta ${valor} registrado correctamente.`;
        mensaje.style.color = '#2e7d32';
      }
    }

    calcularPorcentajes();
  </script>
</body>
</html>
